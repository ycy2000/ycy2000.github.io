<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>댓글 + 파일 업로드 데모</title>
</head>
<body>
  <h1>내 GitHub Pages 사이트</h1>

  <!-- 댓글 영역 -->
  <section id="comments">
    <h2>댓글</h2>
      <script src="https://giscus.app/client.js"
            data-repo="ycy2000/ycy2000.github.io"
            data-repo-id="R_kgDOKcs48Q"
            data-category="Announcements"
            data-category-id="DIC_kwDOKcs48c4Cu1Ye"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="bottom"
            data-theme="preferred_color_scheme"
            data-lang="ko"
            crossorigin="anonymous"
            async>
    </script>
  </section>
<!--    data-repo= "사용자명/저장소명"
        data-repo-id="리포지토리_ID"
        data-category="General"
        data-category-id="카테고리_ID"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="light"
        data-lang="ko"
        crossorigin="anonymous"
        async>
  -->
  <!-- 파일 업로드 영역 -->
  <section id="upload">
    <h2>파일 업로드</h2>
    <input type="file" id="fileInput" />
    <button id="uploadBtn">업로드</button>
    <div id="uploadStatus"></div>
  </section>

  <script type="module">
    // Firebase SDK 로드
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getStorage, ref, uploadBytes } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-storage.js";

    // Firebase 설정 (자신의 프로젝트 정보로 변경)
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_PROJECT_ID.appspot.com",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };

    const app = initializeApp(firebaseConfig);
    const storage = getStorage(app);

    const fileInput = document.getElementById("fileInput");
    const uploadBtn = document.getElementById("uploadBtn");
    const uploadStatus = document.getElementById("uploadStatus");

    uploadBtn.addEventListener("click", async () => {
      const file = fileInput.files[0];
      if (!file) {
        uploadStatus.textContent = "파일을 선택하세요.";
        return;
      }

      const storageRef = ref(storage, "uploads/" + file.name);
      try {
        await uploadBytes(storageRef, file);
        uploadStatus.textContent = "업로드 성공: " + file.name;
      } catch (error) {
        uploadStatus.textContent = "업로드 실패: " + error.message;
      }
    });
  </script>
</body>
</html>
